@if (isOpen()) {
<div
  class="fixed inset-0 z-50 flex items-center justify-center p-4"
  style="background: rgba(0, 0, 0, 0.5)"
  role="dialog"
  aria-modal="true"
  aria-labelledby="modal-title"
  aria-describedby="modal-message"
  (click)="onBackdropClick($event)"
>
  <div
    class="w-full max-w-md p-6 animate-scale-in"
    style="
      background: var(--color-bg);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
    "
  >
    <!-- Title -->
    <h2 id="modal-title" class="text-lg font-semibold mb-2" style="color: var(--color-text)">
      {{ title() }}
    </h2>

    <!-- Message -->
    <p id="modal-message" class="mb-6" style="color: var(--color-text-secondary)">
      {{ message() }}
    </p>

    <!-- Actions -->
    <div class="flex gap-3 justify-end">
      <button
        type="button"
        (click)="onCancel()"
        [disabled]="isLoading()"
        class="px-4 py-2 font-medium transition-all cursor-pointer disabled:opacity-50"
        style="
          background: var(--color-bg-secondary);
          color: var(--color-text);
          border-radius: var(--radius-md);
        "
      >
        {{ cancelText() }}
      </button>
      <button
        type="button"
        (click)="onConfirm()"
        [disabled]="isLoading()"
        class="px-4 py-2 font-medium transition-all cursor-pointer disabled:opacity-50"
        [style.background]="
          variant() === 'danger' ? 'var(--color-danger)' : 'var(--color-primary)'
        "
        style="color: var(--color-text-inverse); border-radius: var(--radius-md)"
      >
        @if (isLoading()) {
          <span class="flex items-center gap-2">
            <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24" aria-hidden="true">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Deleting...
          </span>
        } @else {
          {{ confirmText() }}
        }
      </button>
    </div>
  </div>
</div>
}
